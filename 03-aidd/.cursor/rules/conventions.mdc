---
alwaysApply: true
---
# Правила разработки кода для Code-Ассистента

Эти правила предназначены для Code-Ассистента и отражают наши основные принципы разработки, обеспечивая простоту и качество кода.

1.  **Технологии:**
    *   Используй Python (PEP 8), `uv` для зависимостей, `openai` клиент (Openrouter), `make` для автоматизации, `aiogram` с `polling` для Telegram бота.
2.  **Простота (KISS/YAGNI):**
    *   Всегда стремись к максимально простому и понятному решению. Избегай оверинжиниринга и добавления функциональности "на будущее".
3.  **Модульность:**
    *   Размещай код в соответствующих модулях: `main.py`, `handlers.py`, `llm_service.py`, `config.py`, `utils.py`. Соблюдай принцип "один компонент - одна ответственность".
4.  **Управление состоянием:**
    *   Для MVP, история диалога и пользовательские данные хранятся *исключительно в оперативной памяти* приложения. Не используй базы данных или другие персистентные хранилища.
5.  **Взаимодействие с LLM:**
    *   Используй `llm_service.py` для всех запросов к LLM через `openai` клиент (Openrouter). Передавай системный промпт и актуальный контекст диалога. Избегай сложных функций LLM (RAG, tool-use) на начальном этапе.
6.  **Конфигурация:**
    *   Все настройки загружай из переменных окружения через `config.py`. Для локальной разработки используй `.env`.
7.  **Логгирование:**
    *   Применяй стандартную библиотеку `logging` с выводом в консоль (stdout/stderr). Используй уровни `INFO`, `WARNING`, `ERROR`. Логи должны быть минималистичными и информативными.
