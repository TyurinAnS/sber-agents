# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π (Faster Whisper)

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

1. **Faster Whisper** –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –Ω–∞ GPU
2. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π** –≤ Telegram –±–æ—Ç–µ
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ LLM

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ uv (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ù–∞ VM —Å RTX 4090
cd /path/to/project
uv sync
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ GPU

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ CUDA –¥–æ—Å—Ç—É–ø–Ω–∞
python -c "import torch; print(f'CUDA available: {torch.cuda.is_available()}')"
```

---

## üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∑–∞–ø—É—â–µ–Ω)
make run

# –ò–ª–∏ —á–µ—Ä–µ–∑ uv –Ω–∞–ø—Ä—è–º—É—é
uv run python src/bot.py
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏

–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –±–æ—Ç–∞ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤ –ª–æ–≥–∞—Ö:

```
INFO - Loading Faster Whisper model...
INFO - Faster Whisper model loaded successfully
```

### 3. –û—Ç–ø—Ä–∞–≤–∫–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
2. –ó–∞–ø–∏—à–∏—Ç–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä:
   - "–ö—É–ø–∏–ª –ø—Ä–æ–¥—É–∫—Ç—ã –Ω–∞ —Ç—ã—Å—è—á—É –ø—è—Ç—å—Å–æ—Ç —Ä—É–±–ª–µ–π"
   - "–ü–æ–ª—É—á–∏–ª –∑–∞—Ä–ø–ª–∞—Ç—É –ø—è—Ç—å–¥–µ—Å—è—Ç —Ç—ã—Å—è—á"
   - "–ü–æ—Ç—Ä–∞—Ç–∏–ª —Ç—Ä–∏ —Ç—ã—Å—è—á–∏ –Ω–∞ —Ç–∞–∫—Å–∏"

3. –ë–æ—Ç –¥–æ–ª–∂–µ–Ω:
   - –ü–æ–∫–∞–∑–∞—Ç—å "üé§ –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É—é –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."
   - –†–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ç–µ–∫—Å—Ç
   - –ò–∑–≤–ª–µ—á—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - –û—Ç–≤–µ—Ç–∏—Ç—å —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ –∏ –±–∞–ª–∞–Ω—Å–æ–º

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –º–æ–¥–µ–ª–∏

–í —Ñ–∞–π–ª–µ `src/llm.py` –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –º–æ–¥–µ–ª—å:

```python
whisper_model = WhisperModel(
    "base",  # –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞: "tiny", "small", "medium", "large-v3"
    device="cuda",
    compute_type="float16"
)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- `tiny`: ~0.5 —Å–µ–∫/–º–∏–Ω, —Ç–æ—á–Ω–æ—Å—Ç—å 70-75%, –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- `base`: ~1-2 —Å–µ–∫/–º–∏–Ω, —Ç–æ—á–Ω–æ—Å—Ç—å 75-80%, **—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** ‚úÖ
- `small`: ~2-3 —Å–µ–∫/–º–∏–Ω, —Ç–æ—á–Ω–æ—Å—Ç—å 80-85%, –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
- `medium`: ~3-5 —Å–µ–∫/–º–∏–Ω, —Ç–æ—á–Ω–æ—Å—Ç—å 85-90%, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –≤—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- `large-v3`: ~5-10 —Å–µ–∫/–º–∏–Ω, —Ç–æ—á–Ω–æ—Å—Ç—å 90-95%, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è CPU (–µ—Å–ª–∏ –Ω–µ—Ç GPU)

```python
whisper_model = WhisperModel(
    "base",
    device="cpu",  # –≤–º–µ—Å—Ç–æ "cuda"
    compute_type="int8"  # –≤–º–µ—Å—Ç–æ "float16"
)
```

**–í–Ω–∏–º–∞–Ω–∏–µ:** –ù–∞ CPU –±—É–¥–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ (~10-30x)!

---

## üìä –û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ RTX 4090

| –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä | –°–∫–æ—Ä–æ—Å—Ç—å | –¢–æ—á–Ω–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|--------|----------|----------|--------------|
| tiny | ~75MB | 0.5 —Å–µ–∫/–º–∏–Ω | 70-75% | –¢–µ—Å—Ç—ã |
| **base** | ~150MB | 1-2 —Å–µ–∫/–º–∏–Ω | 75-80% | ‚úÖ **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** |
| small | ~500MB | 2-3 —Å–µ–∫/–º–∏–Ω | 80-85% | –ü–æ–≤—ã—à–µ–Ω–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ |
| medium | ~1.5GB | 3-5 —Å–µ–∫/–º–∏–Ω | 85-90% | –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ |
| large-v3 | ~3GB | 5-10 —Å–µ–∫/–º–∏–Ω | 90-95% | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ |

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º–∞: "CUDA not available"

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA
nvidia-smi

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É CUDA
python -c "import torch; print(torch.version.cuda)"
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Model not found"

Faster Whisper –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç –º–æ–¥–µ–ª—å –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ. –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:

```python
# –ú–æ–¥–µ–ª–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ ~/.cache/huggingface/hub/
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –µ—Å—Ç—å –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ (~3GB –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π)
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GPU:
   ```python
   # –í src/llm.py –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å device="cuda"
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É GPU:
   ```bash
   watch -n 1 nvidia-smi
   ```

3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à—É—é –º–æ–¥–µ–ª—å (tiny/base)

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥–µ–ª—å –ø–æ–±–æ–ª—å—à–µ (small/medium)
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —è–∑—ã–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∫–∞–∫ "ru" –≤ –ª–æ–≥–∞—Ö

---

## üìù –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

–ü—Ä–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç:

```
INFO - Voice message from 123456, duration: 5s, size: 12345 bytes
INFO - Downloaded voice message: 12345 bytes
INFO - Transcribing voice message, file size: 12345 bytes
INFO - Detected language: ru (probability: 0.98)
INFO - Transcription duration: 4.50s
INFO - Transcribed text (length 54): –∫—É–ø–∏–ª –ø—Ä–æ–¥—É–∫—Ç—ã –Ω–∞ —Ç—ã—Å—è—á—É –ø—è—Ç—å—Å–æ—Ç —Ä—É–±–ª–µ–π
INFO - Transcribed voice from 123456: '–∫—É–ø–∏–ª –ø—Ä–æ–¥—É–∫—Ç—ã –Ω–∞ —Ç—ã—Å—è—á—É –ø—è—Ç—å—Å–æ—Ç —Ä—É–±–ª–µ–π'
```

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å

**–ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ!** üéâ

- –†–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –≤–∞—à–µ–º GPU
- –ù–µ—Ç API-–∫–ª—é—á–µ–π
- –ù–µ—Ç –ª–∏–º–∏—Ç–æ–≤ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- –ó–∞—Ç—Ä–∞—Ç—ã —Ç–æ–ª—å–∫–æ –Ω–∞ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ (~10-20 –í—Ç –¥–ª—è GPU)

---

## üîÑ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å OpenAI Whisper API

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Faster Whisper (–ª–æ–∫–∞–ª—å–Ω–æ) | OpenAI Whisper API |
|----------|---------------------------|-------------------|
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | 0‚ÇΩ | ~0.5‚ÇΩ/–º–∏–Ω |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | 1-2 —Å–µ–∫ (base –Ω–∞ RTX 4090) | 5-15 —Å–µ–∫ |
| **–ö–∞—á–µ—Å—Ç–≤–æ** | –û—Ç–ª–∏—á–Ω–æ (–∏–¥–µ–Ω—Ç–∏—á–Ω–æ) | –û—Ç–ª–∏—á–Ω–æ |
| **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å** | –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ–∫–∏–¥–∞—é—Ç —Å–µ—Ä–≤–µ—Ä | –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ OpenAI |
| **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è** | GPU (RTX 4090) | –ò–Ω—Ç–µ—Ä–Ω–µ—Ç, API-–∫–ª—é—á |
| **–ù–∞—Å—Ç—Ä–æ–π–∫–∞** | –ß—É—Ç—å —Å–ª–æ–∂–Ω–µ–µ | –ü—Ä–æ—â–µ |

**–í—ã–≤–æ–¥:** –î–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è Faster Whisper - –∏–¥–µ–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä! ‚úÖ

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Faster Whisper GitHub](https://github.com/SYSTRAN/faster-whisper)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–æ–¥–µ–ª—è–º Whisper](https://github.com/openai/whisper#available-models-and-languages)
- [–î–µ—Ç–∞–ª—å–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–¥—Ö–æ–¥–æ–≤](./voice-transcription-research.md)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 28 –Ω–æ—è–±—Ä—è 2025  
**–ü—Ä–æ–µ–∫—Ç:** Multimodal Finance Bot (sber-agents/04-multimodal)

