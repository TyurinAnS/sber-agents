# –û—Ç—á—ë—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è: RAG-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –°–±–µ—Ä–±–∞–Ω–∫–∞

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:** RAG-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –°–±–µ—Ä–±–∞–Ω–∫–∞

**–û–ø–∏—Å–∞–Ω–∏–µ:** Telegram-–±–æ—Ç —Å RAG (Retrieval-Augmented Generation) –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –°–±–µ—Ä–±–∞–Ω–∫–∞ –æ –∫—Ä–µ–¥–∏—Ç–∞—Ö –∏ –≤–∫–ª–∞–¥–∞—Ö. –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç LangChain –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è RAG-–ø–∞–π–ø–ª–∞–π–Ω–∞, –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º –∏ query transformation –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –¥–∏–∞–ª–æ–≥–∞.

**–í–∞—Ä–∏–∞–Ω—Ç –∑–∞–¥–∞–Ω–∏—è:** –ë–∞–∑–æ–≤—ã–π

**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** –ù–æ—è–±—Ä—å 2025

---

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [x] **RAG –Ω–∞ –±–∞–∑–µ LangChain** - –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [x] **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è PDF** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- [x] **–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è JSON** - –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö Q&A –ø–∞—Ä —á–µ—Ä–µ–∑ JSONLoader
- [x] **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –¥–∏–∞–ª–æ–≥** - –ø–æ–Ω–∏–º–∞–Ω–∏–µ —É—Ç–æ—á–Ω—è—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ —Å —É—á—ë—Ç–æ–º –∏—Å—Ç–æ—Ä–∏–∏
- [x] **Query Transformation** - —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏–∞–ª–æ–≥–∞
- [x] **–í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫** - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [x] **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- [x] `/start` - –Ω–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–∏–∞–ª–æ–≥ (—Å–±—Ä–æ—Å –∏—Å—Ç–æ—Ä–∏–∏)
- [x] `/help` - –ø–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- [x] `/index` - –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤—Ä—É—á–Ω—É—é
- [x] `/index_status` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- [x] **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∑–∞–ø–∏—Å—å –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –≤ —Ñ–∞–π–ª `logs/bot.log`
- [x] **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ edge cases
- [x] **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã** - –ø—Ä–æ–º–ø—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (`prompts/`)
- [x] **–ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- [x] **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - —á–∞–Ω–∫–∏ –≤–∫–ª—é—á–∞—é—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–∏—Å—Ç–æ—á–Ω–∏–∫, —Å—Ç—Ä–∞–Ω–∏—Ü–∞)

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- **Python 3.11+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **aiogram 3.x** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram Bot API —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- **LangChain 0.3+** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è RAG-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
  - `langchain-core` - –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
  - `langchain-openai` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–º–∏ API
  - `langchain-ollama` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ollama –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
  - `langchain-community` - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
  - `langchain-text-splitters` - —Ä–∞–∑–±–∏–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —á–∞–Ω–∫–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **pypdf 5.0+** - –ø–∞—Ä—Å–∏–Ω–≥ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **jq 1.6+** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ JSON —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º jq-–∑–∞–ø—Ä–æ—Å–æ–≤
- **JSONLoader** - –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON

### –í–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **InMemoryVectorStore** - –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –ø–∞–º—è—Ç–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- **uv** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—ã—Å—Ç—Ä—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python
- **python-dotenv** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## ü§ñ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏

### LLM (Large Language Models)
1. **OpenAI GPT-OSS-20B** (—á–µ—Ä–µ–∑ OpenRouter)
   - –ú–æ–¥–µ–ª—å: `openai/gpt-oss-20b:free`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: –æ—Å–Ω–æ–≤–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤
   - Temperature: 0.9

2. **GPT-4o** (—á–µ—Ä–µ–∑ OpenRouter)
   - –ú–æ–¥–µ–ª—å: `gpt-4o`
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: query transformation
   - Temperature: 0.4

### –≠–º–±–µ–¥–¥–∏–Ω–≥–∏
–§–∏–Ω–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ—Å–ª–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤:

**Ollama - aroxima/multilingual-e5-large-instruct:latest**
- –õ–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ Ollama
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–æ –∏ –ª–æ–∫–∞–ª—å–Ω–æ

–¢–∞–∫–∂–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å:
- OpenAI Text-Embedding-3-Large (—á–µ—Ä–µ–∑ OpenRouter)
- Fireworks Qwen3-Embedding-8B (—á–µ—Ä–µ–∑ Fireworks) - –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞ –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º

---

## üß™ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã —Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π

### –¶–µ–ª—å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
–ù–∞–π—Ç–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–±–∏–µ–Ω–∏—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —á–∞–Ω–∫–∏ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤ RAG-—Å–∏—Å—Ç–µ–º—ã.

### –¢–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
1. –ü–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å (–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–º –∫—Ä–µ–¥–∏—Ç–µ)
2. –í—Ç–æ—Ä–æ–π –≤–æ–ø—Ä–æ—Å (–æ –≤–∫–ª–∞–¥–∞—Ö)
3. –¢—Ä–µ—Ç–∏–π –≤–æ–ø—Ä–æ—Å (–ø—Ä–æ –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã)

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

#### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 1: –ë–∞–∑–æ–≤–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ
**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```python
RecursiveCharacterTextSplitter(
    chunk_size=500,
    chunk_overlap=50
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤:** 377
- **–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:** ‚úÖ 1/3 (—Ç–æ–ª—å–∫–æ –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å)
- **–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞:** –ë–∞–∑–æ–≤–æ–µ

**–ù–∞–±–ª—é–¥–µ–Ω–∏—è:**
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
- ‚ùå –°–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–µ —á–∞–Ω–∫–∏ —Ç–µ—Ä—è—é—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç
- ‚ùå –ë–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤ –∑–∞—Ç—Ä—É–¥–Ω—è–µ—Ç –ø–æ–∏—Å–∫
- ‚ùå –ù–µ –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ 2 –∏–∑ 3 –≤–æ–ø—Ä–æ—Å–æ–≤

#### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 2: –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ —á–∞–Ω–∫–∏
**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```python
RecursiveCharacterTextSplitter(
    chunk_size=1500,
    chunk_overlap=500
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤:** 132
- **–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:** ‚úÖ 1/3 (—Ç–æ–ª—å–∫–æ –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å)
- **–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞:** ‚ö†Ô∏è –ú–µ–Ω–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π, —á–µ–º –≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–µ 1

**–ù–∞–±–ª—é–¥–µ–Ω–∏—è:**
- ‚úÖ –ú–µ–Ω—å—à–µ —á–∞–Ω–∫–æ–≤ - –±—ã—Å—Ç—Ä–µ–µ –ø–æ–∏—Å–∫
- ‚úÖ –ë–æ–ª—å—à–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ –∫–∞–∂–¥–æ–º —á–∞–Ω–∫–µ
- ‚ùå –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ —á–∞–Ω–∫–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–∑–±—ã—Ç–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- ‚ùå –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ —É—Ö—É–¥—à–∏–ª–∞—Å—å
- ‚ùå –ù–µ —Ä–µ—à–∏–ª–æ –ø—Ä–æ–±–ª–µ–º—É —Å –∫–∞—á–µ—Å—Ç–≤–æ–º –æ—Ç–≤–µ—Ç–æ–≤

#### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 3: –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤
**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```python
RecursiveCharacterTextSplitter(
    chunk_size=800,
    chunk_overlap=100
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤:** 246
- **–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:** ‚ùå 0/3 (–Ω–µ –æ—Ç–≤–µ—Ç–∏–ª –Ω–∏ –Ω–∞ –æ–¥–∏–Ω)
- **–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞:** –ù–µ—É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ

**–ù–∞–±–ª—é–¥–µ–Ω–∏—è:**
- ‚ö†Ô∏è –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Ä–∞–∑–º–µ—Ä–æ–º –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —á–∞–Ω–∫–æ–≤
- ‚ùå –ù–µ–æ–∂–∏–¥–∞–Ω–Ω–æ –ø–ª–æ—Ö–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚ùå –í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–º —Ä–∞–∑–±–∏–µ–Ω–∏–∏ –±–µ–∑ —É—á—ë—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

#### –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç 4: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ (–ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è PDF)
**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```python
RecursiveCharacterTextSplitter(
    chunk_size=800,
    chunk_overlap=100,
    separators=[
        "\n\n\n",    # –¢—Ä–æ–π–Ω–æ–π –ø–µ—Ä–µ–Ω–æ—Å - —Ä–∞–∑–¥–µ–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞
        "\n\n",      # –î–≤–æ–π–Ω–æ–π –ø–µ—Ä–µ–Ω–æ—Å - –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã
        "\n",        # –û–¥–∏–Ω–∞—Ä–Ω—ã–π –ø–µ—Ä–µ–Ω–æ—Å - —Å—Ç—Ä–æ–∫–∏
        ". ",        # –ö–æ–Ω–µ—Ü –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
        " ",         # –ü—Ä–æ–±–µ–ª—ã
        ""           # –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
    ],
    keep_separator=True
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤:** 246
- **–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:** ‚úÖ‚úÖ 2/3 (–ø–µ—Ä–≤—ã–µ –¥–≤–∞ –≤–æ–ø—Ä–æ—Å–∞)
- **–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–∞:** –•–æ—Ä–æ—à–µ–µ

**–ù–∞–±–ª—é–¥–µ–Ω–∏—è:**
- ‚úÖ **–ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–º 3**
- ‚úÖ –†–∞–∑–±–∏–µ–Ω–∏–µ —Å —É—á—ë—Ç–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≥—Ä–∞–Ω–∏—Ü (—Ä–∞–∑–¥–µ–ª—ã, –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã)
- ‚úÖ –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –Ω–µ —Ä–∞–∑—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ
- ‚úÖ **–õ—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è PDF-–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
- ‚ö†Ô∏è –í—Å—ë –µ—â—ë –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Ç—Ä–µ—Ç–∏–π –≤–æ–ø—Ä–æ—Å (–ø—Ä–æ –∫–∞—Ä—Ç—ã)

### –í—ã–≤–æ–¥—ã –ø–æ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ PDF

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç–æ—Ä—ã –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –≤–∞–∂–Ω–µ–µ —Ä–∞–∑–º–µ—Ä–∞ —á–∞–Ω–∫–æ–≤**
   - –û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä (800/100), –Ω–æ —Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã: 0/3 vs 2/3
   - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã

2. **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
   - `chunk_size=800` - –±–∞–ª–∞–Ω—Å –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –∏ —Ç–æ—á–Ω–æ—Å—Ç—å—é
   - `chunk_overlap=100` - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ—Ç–µ—Ä—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö
   - –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä—ã - –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
   - `keep_separator=True` - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É

3. **–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è:**
   - –ë–æ–ª—å—à–∏–µ —á–∞–Ω–∫–∏ (1500) –¥–∞–ª–∏ —Ö—É–¥—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —á–µ–º –º–∞–ª–µ–Ω—å–∫–∏–µ (500)
   - –†–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤ –±–µ–∑ —É—á—ë—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç
   - 377 —á–∞–Ω–∫–æ–≤ –ø–æ–∫–∞–∑–∞–ª–∏ –ª—É—á—à–µ, —á–µ–º 246 –±–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è PDF-–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏:**
   - –î–∞–∂–µ –ª—É—á—à–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –ø–æ–∫—Ä—ã–ª–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã
   - –ù–µ–æ–±—Ö–æ–¥–∏–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (JSON)

---

## üìä –†–∞–±–æ—Ç–∞ —Å JSON –¥–∞—Ç–∞—Å–µ—Ç–æ–º

### –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å JSON

–ü–æ—Å–ª–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å PDF —Å—Ç–∞–ª–æ —è—Å–Ω–æ, —á—Ç–æ:
- PDF-–¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–µ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ —Ç–∏–ø—ã –≤–æ–ø—Ä–æ—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ –∫–∞—Ä—Ç—ã)
- –ù—É–∂–µ–Ω —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Å Q&A –ø–∞—Ä–∞–º–∏

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ JSON

**–§–∞–π–ª:** `data/sberbank_help_documents.json`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON:**
```json
[
  {
    "question": "–ö–∞–∫–∏–µ –∫–∞—Ä—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã?",
    "answer": "–°–±–µ—Ä–±–∞–Ω–∫ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç...",
    "full_text": "–í–æ–ø—Ä–æ—Å: –ö–∞–∫–∏–µ –∫–∞—Ä—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã?\n\n–û—Ç–≤–µ—Ç: –°–±–µ—Ä–±–∞–Ω–∫ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç..."
  },
  ...
]
```

**–ö–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏:**
```python
def load_json_documents(json_file_path: str) -> list:
    """
    –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–∑ JSON —Ñ–∞–π–ª–∞ —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏-–æ—Ç–≤–µ—Ç–∞–º–∏
    –ö–∞–∂–¥–∞—è –ø–∞—Ä–∞ Q&A —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —á–∞–Ω–∫–æ–º
    """
    loader = JSONLoader(
        file_path=str(json_path),
        jq_schema='.[].full_text',  # –ò–∑–≤–ª–µ–∫–∞–µ–º full_text –∏–∑ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
        text_content=False
    )
    
    documents = loader.load()
    logger.info(f"Loaded {len(documents)} Q&A pairs from JSON")
    return documents
```

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PDF:**
```python
# –û–±—ä–µ–¥–∏–Ω—è–µ–º PDF –∏ JSON –≤ –µ–¥–∏–Ω–æ–µ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
pdf_chunks = split_documents(pdf_pages)  # 246 —á–∞–Ω–∫–æ–≤
json_chunks = load_json_documents(json_file)  # 212 —á–∞–Ω–∫–æ–≤
all_chunks = pdf_chunks + json_chunks  # 458 —á–∞–Ω–∫–æ–≤

vector_store = InMemoryVectorStore.from_documents(
    documents=all_chunks,
    embedding=embeddings
)
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è JSON

**–ú–µ—Ç—Ä–∏–∫–∏:**
- **PDF —á–∞–Ω–∫–æ–≤:** 246 (–∏–∑ 2 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
- **JSON —á–∞–Ω–∫–æ–≤:** 212 (–≤–æ–ø—Ä–æ—Å—ã-–æ—Ç–≤–µ—Ç—ã)
- **–í—Å–µ–≥–æ —á–∞–Ω–∫–æ–≤:** 458

**–ü–æ–∫—Ä—ã—Ç–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤:**
- –¢—Ä–µ—Ç–∏–π –≤–æ–ø—Ä–æ—Å (–ø—Ä–æ –∫–∞—Ä—Ç—ã): ‚úÖ –¢–µ–ø–µ—Ä—å –æ—Ç–≤–µ—á–∞–µ—Ç (–±–ª–∞–≥–æ–¥–∞—Ä—è JSON)
- –í–æ–ø—Ä–æ—Å—ã –∏–∑ JSON-–¥–∞—Ç–∞—Å–µ—Ç–∞: ‚úÖ –¢–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- –û–±—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–∏–ª–æ—Å—å

### –°–∫—Ä–∏–Ω—à–æ—Ç —Ä–∞–±–æ—Ç—ã —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –ø—Ä–æ –∫–∞—Ä—Ç—ã

![–†–∞–±–æ—Ç–∞ —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏ –ø—Ä–æ –∫–∞—Ä—Ç—ã](screenshots/–°–Ω–∏–º–æ–∫.PNG)

–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤–∏–¥–Ω–æ, –∫–∞–∫ –±–æ—Ç —É—Å–ø–µ—à–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∫–∞—Ä—Ç–∞—Ö, –∏—Å–ø–æ–ª—å–∑—É—è –¥–∞–Ω–Ω—ã–µ –∏–∑ JSON-–¥–∞—Ç–∞—Å–µ—Ç–∞.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ JSON –ø–æ–¥—Ö–æ–¥–∞:**
- ‚úÖ –ü—Ä—è–º—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏
- ‚úÖ –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ –î–æ–ø–æ–ª–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ PDF

---

## üî¨ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

### –¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ù–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:**
- 246 —á–∞–Ω–∫–æ–≤ –∏–∑ PDF
- 212 —á–∞–Ω–∫–æ–≤ –∏–∑ JSON
- –ò—Ç–æ–≥–æ: 458 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–¢–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã:**
1. –í–æ–ø—Ä–æ—Å—ã –æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–æ–º –∫—Ä–µ–¥–∏—Ç–µ (PDF)
2. –í–æ–ø—Ä–æ—Å—ã –æ –≤–∫–ª–∞–¥–∞—Ö (PDF)
3. –í–æ–ø—Ä–æ—Å—ã –æ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∫–∞—Ä—Ç–∞—Ö (JSON)

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏

#### 1. Fireworks Qwen3-Embedding-8B ‚ùå (–Ω–µ –ø–æ–¥–æ—à–ª–∞)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```python
embeddings = OpenAIEmbeddings(
    model="accounts/fireworks/models/qwen3-embedding-8b"
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
- **–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:** ‚ùå 0/3 (–Ω–µ –æ—Ç–≤–µ—Ç–∏–ª–∞ –Ω–∏ –Ω–∞ –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å)
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** ‚ùå –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ "too many requests"
- **–í–µ—Ä–¥–∏–∫—Ç:** –û–¢–ö–õ–û–ù–ï–ù–ê

**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–∞ –¥–ª—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–µ API
- –õ–∏–º–∏—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

#### 2. Ollama - aroxima/multilingual-e5-large-instruct:latest ‚úÖ (—Ñ–∏–Ω–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```python
embeddings = OllamaEmbeddings(
    model="aroxima/multilingual-e5-large-instruct:latest"
)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å PDF + JSON:**
- **–í–æ–ø—Ä–æ—Å 1 (PDF, –∫—Ä–µ–¥–∏—Ç—ã):** ‚ùå –ù–µ –æ—Ç–≤–µ—Ç–∏–ª
- **–í–æ–ø—Ä–æ—Å 2 (PDF, –≤–∫–ª–∞–¥—ã):** ‚ùå –ù–µ –æ—Ç–≤–µ—Ç–∏–ª  
- **–í–æ–ø—Ä–æ—Å 3 (PDF, –∫–∞—Ä—Ç—ã):** ‚úÖ –û—Ç–≤–µ—Ç–∏–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- **–í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ JSON –¥–∞—Ç–∞—Å–µ—Ç–∞:** ‚úÖ –û—Ç–ª–∏—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:** –ë–æ–ª—å—à–µ –∑–∞–¥–µ—Ä–∂–∫–∞, –Ω–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —Ä–∞–∑—É–º–Ω–æ–≥–æ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ (–ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å)
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å JSON-–¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ (multilingual)
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ö†Ô∏è –ù–µ –æ—Ç–≤–µ—Ç–∏–ª –Ω–∞ 2 –≤–æ–ø—Ä–æ—Å–∞ –∏–∑ PDF
- ‚ö†Ô∏è –ë–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Ollama

### –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Fireworks Qwen3 | Ollama Multilingual-E5 |
|----------|-----------------|------------------------|
| **–û—Ç–≤–µ—Ç—ã PDF (3 –≤–æ–ø—Ä–æ—Å–∞)** | ‚ùå 2/3 | ‚ùå 1/3 |
| **–û—Ç–≤–µ—Ç—ã JSON (1+ –≤–æ–ø—Ä–æ—Å–æ–≤)** | ‚ùå 0/? | ‚úÖ –í—Å–µ |
| **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** | ‚ùå –û—à–∏–±–∫–∏ API | ‚úÖ –û—Ç–ª–∏—á–Ω–æ |
| **–°–∫–æ—Ä–æ—Å—Ç—å** | ‚ö° –ë—ã—Å—Ç—Ä–æ | üê¢ –ú–µ–¥–ª–µ–Ω–Ω–æ |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | üí∞ –ü–ª–∞—Ç–Ω–æ | üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω–æ |
| **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å** | ‚ùå –û–±–ª–∞—á–Ω–æ | ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ |
| **–†—É—Å—Å–∫–∏–π —è–∑—ã–∫** | ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ |
| **–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞** | ‚≠ê 1/5 | ‚≠ê‚≠ê‚≠ê‚≠ê 4/5 |

### –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### –ü–æ—á–µ–º—É Ollama –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å JSON, —á–µ–º —Å PDF?

**–ì–∏–ø–æ—Ç–µ–∑—ã:**

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - JSON —Å–æ–¥–µ—Ä–∂–∏—Ç –≥–æ—Ç–æ–≤—ã–µ Q&A –ø–∞—Ä—ã
   - –ú–æ–¥–µ–ª—å –ª—É—á—à–µ –Ω–∞—Ö–æ–¥–∏—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é –±–ª–∏–∑–æ—Å—Ç—å —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
   - PDF —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–ª–∏–Ω–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –±–µ–∑ —è–≤–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

2. **–•–∞—Ä–∞–∫—Ç–µ—Ä —Ç–µ–∫—Å—Ç–∞:**
   - JSON: –∫–æ—Ä–æ—Ç–∫–∏–µ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
   - PDF: —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–π —è–∑—ã–∫, —Ç–∞–±–ª–∏—Ü—ã, —á–∏—Å–ª–∞

3. **–†–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤:**
   - JSON: –∫–∞–∂–¥–∞—è –ø–∞—Ä–∞ Q&A - –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
   - PDF: 800 —Å–∏–º–≤–æ–ª–æ–≤ –º–æ–≥—É—Ç —Ä–∞–∑–±–∏–≤–∞—Ç—å –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

### –í—ã–≤–æ–¥—ã –ø–æ –º–æ–¥–µ–ª—è–º —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤

**–§–∏–Ω–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä: Ollama - aroxima/multilingual-e5-large-instruct:latest**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
1. ‚úÖ –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–∞–±–æ—á–∞—è –º–æ–¥–µ–ª—å –∏–∑ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
2. ‚úÖ –û—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å JSON-–¥–∞—Ç–∞—Å–µ—Ç–æ–º
3. ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –±–µ—Å–ø–ª–∞—Ç–Ω–∞ –∏ –ª–æ–∫–∞–ª—å–Ω–∞
4. ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
5. ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π API

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –∏ –ø—É—Ç–∏ —Ä–µ—à–µ–Ω–∏—è:**
- ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã —Å PDF-–¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏
  - **–†–µ—à–µ–Ω–∏–µ:** –£–≤–µ–ª–∏—á–∏—Ç—å k –¥–ª—è retriever
  - **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ Q&A –≤ JSON
  - **–†–µ—à–µ–Ω–∏–µ:** –£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è query transformation

- ‚ö†Ô∏è –ó–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤
  - **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è Telegram-–±–æ—Ç–∞
  - **–†–µ—à–µ–Ω–∏–µ:** –ú–æ–∂–Ω–æ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ollama —Å multilingual-e5-large-instruct
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞ JSON-–¥–∞—Ç–∞—Å–µ—Ç –¥–ª—è —á–∞—Å—Ç—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- RETRIEVER_K=3 (–∏–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ 5 –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏)

**–î–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ Q&A –ø–∞—Ä –≤ JSON
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ Ollama
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (keyword + semantic)

---

## üìà –ò—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è
- **PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:** 2 —Ñ–∞–π–ª–∞
- **JSON –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:** 1 —Ñ–∞–π–ª  
- **PDF —á–∞–Ω–∫–æ–≤:** 246
- **JSON —á–∞–Ω–∫–æ–≤:** 212
- **–í—Å–µ–≥–æ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ:** 458 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **–í—Ä–µ–º—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏:** ~5-10 —Å–µ–∫—É–Ω–¥ (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞:** 2-5 —Å–µ–∫—É–Ω–¥ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç Ollama)
- **–ü–∞—Ä–∞–º–µ—Ç—Ä k –¥–ª—è retriever:** 3
- **–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–æ–≤:** –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∞
  - JSON –≤–æ–ø—Ä–æ—Å—ã: ~95% —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
  - PDF –≤–æ–ø—Ä–æ—Å—ã: ~40% —É—Å–ø–µ—à–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è)

### –ö–∞—á–µ—Å—Ç–≤–æ
- **–¢–æ—á–Ω–æ—Å—Ç—å JSON-–æ—Ç–≤–µ—Ç–æ–≤:** –û—Ç–ª–∏—á–Ω–æ (‚úÖ)
- **–¢–æ—á–Ω–æ—Å—Ç—å PDF-–æ—Ç–≤–µ—Ç–æ–≤:** –¢—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è (‚ö†Ô∏è)
- **–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:** –•–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç query transformation
- **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:** –†–∞–±–æ—Ç–∞–µ—Ç

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

1. **–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –±–∞–∑–æ–≤—ã–π RAG-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π PDF –∏ JSON
2. **–ü—Ä–æ–≤–µ–¥–µ–Ω–æ 4 —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ —Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–µ–π**, –≤—ã—è–≤–ª–µ–Ω–∞ –≤–∞–∂–Ω–æ—Å—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ —Ä–∞–∑–±–∏–µ–Ω–∏—è
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã 2 –º–æ–¥–µ–ª–∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**, –≤—ã–±—Ä–∞–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è Ollama
4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω JSON-–¥–∞—Ç–∞—Å–µ—Ç** –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤

### –í–∞–∂–Ω—ã–µ –≤—ã–≤–æ–¥—ã

**–ü–æ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–Ω–µ–µ —Ä–∞–∑–º–µ—Ä–∞ —á–∞–Ω–∫–æ–≤
- 800/100 —Å —Å–µ–ø–∞—Ä–∞—Ç–æ—Ä–∞–º–∏ - –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è PDF
- JSON-–¥–∞—Ç–∞—Å–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤

**–ü–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º:**
- Fireworks Qwen3 –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç (–Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞)
- Ollama multilingual-e5 - –ª—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- –ú–æ–¥–µ–ª—å –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ Q&A, —á–µ–º —Å –¥–ª–∏–Ω–Ω—ã–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

### –¢–µ–∫—É—â–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. ‚ö†Ô∏è –õ–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–µ –≤—Å–µ–≥–¥–∞ –Ω–∞—Ö–æ–¥–∏—Ç –æ—Ç–≤–µ—Ç—ã –≤ PDF
2. ‚ö†Ô∏è –£–≤–µ–ª–∏—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –∏–∑-–∑–∞ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
3. ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ Q&A –ø–∞—Ä –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è

### –ü—É—Ç–∏ —É–ª—É—á—à–µ–Ω–∏—è

1. **–†–∞—Å—à–∏—Ä–∏—Ç—å JSON-–¥–∞—Ç–∞—Å–µ—Ç** - –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –≤–æ–ø—Ä–æ—Å–æ–≤-–æ—Ç–≤–µ—Ç–æ–≤
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ –º–æ–¥–µ–ª–∏ Ollama** –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
3. **–£–≤–µ–ª–∏—á–∏—Ç—å RETRIEVER_K** –¥–æ 5-7 –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞
4. **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫** - –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å semantic + keyword search
5. **–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–º–ø—Ç—ã** –¥–ª—è –ª—É—á—à–µ–≥–æ query transformation

---

**–ê–≤—Ç–æ—Ä:** –¢—é—Ä–∏–Ω –ê–Ω—Ç–æ–Ω  
**–î–∞—Ç–∞:** –ù–æ—è–±—Ä—å 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

**–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞:** –ë–∞–∑–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é. –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏–π, –æ—Å–æ–±–µ–Ω–Ω–æ –≤ —á–∞—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã —Å PDF-–¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.
