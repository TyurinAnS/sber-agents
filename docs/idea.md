# docs/idea.md

## Проект: **Банковский ИИ‑ассистент «Ключ»**

### 1. Описание проекта
«Ключ» – это чат‑бот, работающий в текстовом режиме и предлагающий клиентам банка быстрый доступ к информации и услугам.  
Он использует современные LLM‑инструменты и паттерны «AI‑driven» для:  
- ответов на вопросы о продуктах, тарифах, лимитах и курсах валют;  
- вывода актуальных данных из справочных систем банка (состояние счёта, детали транзакций);  
- генерации рекомендации по переходу на лучший тариф или продукт.

Сервис ориентирован на автоматизацию потоков справок, освобождая сотрудников от рутинных запросов.

### 2. Целевая аудитория
- **Пользователи банка** – физические лица, желающие узнать информацию о счёте, продуктах, текущих акциях.  
- **Support‑центры** – отделы, которые претерпевают высокую нагрузку от вопросов «как открыть счёт», «как изменить тариф» и т.д.  
- **Разработчики банковской платформы** – интеграция ассистента как API‑слоя к существующим бек‑эндам.

### 3. Основные функции и возможности
| # | Функция | Что делает | Взаимодействие |
|---|--------|------------|-----------------|
| 1 | **FAQ & поиск информации** | Находит актуальные ответы на предметные запросы, используя RAG. | Получает базовые данные из справочных систем. |
| 2 | **Переводы и расчёты** | Подсчитывает сумму при переводе, преобразует валюту. | Читает лимиты и комиссии из СУБД. |
| 3 | **Тегирование и контекст** | Выделяет ключевые параметры запроса (номер счёта, тип операции) через Structured Output. | Передаёт параметры в цепочку RAG‑агента. |
| 4 | **Рекомендации** | Предлагает пользователю более выгодный тариф или продукт. | Использует модели MC‑P для анализа предпочтений. |
| 5 | **Приватные запросы** | Выводит детали текущего баланса/операций, не публикуя их. | Сначала проверяет токен авторизации (заглушка). |
| 6 | **Логи** | Сохраняет запросы, ответы и контекст для дальнейших улучшений. | Интегрировано в бекенд‑уровень. |

> **Важно:** пользовательский интерфейс – это просто чат‑бот в мессенджере; вся логика реализована в виде сервисов.

### 4. Технологии и подходы из курса
| Курсовой модуль | Как используется в проекте |
|-----------------|-----------------------------|
| **LLM API** | Общение с OpenAI‑совместимым LLM через HTTP‑прокси. |
| **Structured Output** | Модели возвращают JSON‑объекты (поле `role`, `prompt`, `actions`). |
| **Мультимодальность** | На уровне MVP только текстовый вывод, но структура позволят добавить голос в дальнейшем. |
| **RAG** | Индексирование документов из справочных систем в FAISS, поиск ответов при каждом запросе. |
| **LangGraph** | Создание графа потоков: `User <–> NLP_{intent} <–> RAG <–> Decision == > Response`. |
| **MCP** | Взаимодействие с внешними API (тарифы, карты) через протокол MCP, который спроектирован так, чтобы “предоставлять” системные данные без прямого доступа к БД. |

### 5. План развития проекта по модулям курса
| Модуль | Что будет реализовано | Как упрощается дальнейший шаг |
|--------|----------------------|--------------------------------|
| **М01** | Настройка LLM API и подключение к чат‑боту. | Основа для всех последующих переводов. |
| **М02** | Добавление `Structured Output` для распознавания ролей запроса. | Упрощает обработку сложных вопросов. |
| **М03** | Создание начального пайплайна в `Cursor`. | Быстрое прототипирование. |
| **М04** | Исправить отказ от мультимодальности – подготовить API для возможного voice‑интеграции. | Позволяет расширять клиентский интерфейс. |
| **М05** | Внедрить RAG; индексировать FAQ и справочные документы. | Реквизит для точных, документированных ответов. |
| **М06** | Создать базовый RAG‑ассистент: обработка запросов, вывод текста. | Базовый рабочий продукт. |
| **М07** | Добавить метрики качества (precision@k, F1). | Позволяет оценивать, насколько полезны ответы. |
| **М08** | Реализовать агентскую архитектуру: базовый `Agent` + `Tool` для базы данных. | Лучший путь к гибкой композиции. |
| **М09** | Перейти до `LangGraph`: многоступенчатые workflow, state‑обновление. | Поддержка сложных сценариев (переводы, рекомендации). |
| **М10** | Интеграция MCP‑инструментов: апстримовые сервисы банка (API‑коннекторы). | Повышает уровень встроенной реальности. |
| **М11** | Оценка безопасности: логирование, анонимизация данных, ML‑audit. | Гарантия соответствия требованиям банка. |
| **М12** | Итоговый проект и демонстрация: автоматизируем супросное обслуживание. | Финальный реестр готового решения. |

**Итог**: после курса «AI‑driven разработка ИИ‑агентов» у нас будет полностью функционирующий чат‑бот, способный самостоятельно извлекать, обрабатывать и отвечать на запросы клиентов, а также масштабироваться в рамках банковской инфраструктуры.